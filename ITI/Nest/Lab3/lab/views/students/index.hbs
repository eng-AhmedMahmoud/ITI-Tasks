<html>

<head>
    <link href='https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css' rel='stylesheet'
        integrity='sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC' crossorigin='anonymous' />
    <meta charset='utf-8' />
    <title>App</title>
</head>

<body>
    <nav class='navbar navbar-expand-lg navbar-dark bg-dark'>
        <ul class='navbar-nav ms-2 me-auto'>
            <li class='nav-item'>
                <a class='nav-link active' href='http://127.0.0.1:3000/students'>Students</a>
            </li>
            <li class='nav-item'>
                <a class='nav-link' href='#'>Courses</a>
            </li>
        </ul>

        <li class=' ms-5'>
            <a class='text-white text-decoration-none' href='#'>{{user.name}}</a>
        </li>
        <li class=' mx-4'>
            <a class='text-danger text-decoration-none' href='http://127.0.0.1:3000/auth/login'>logout</a>
        </li>

        {{!-- {{#if isAdmin}}
        <a class='btn btn-primary mx-2' href='http://127.0.0.1:3000/students/create'>Add Student</a>
        {{/if}} --}}
    </nav>
    <div class='container p-3'>
        <h1 class='text-center my-4 mb-5 text-primary'>View all students</h1>
        <div class='row justify-content-around'>
            {{#if isAdmin}}
            {{#each students}}
            {{#if isStudent}}
            <div class='card col-4 my-3' style='width: 18rem;'>
                <div class='card-body'>
                    <h5 class='card-title'>
                        <span>Name: </span>
                        <span>{{name}}</span>
                    </h5>
                    <div class='my-2 fw-bold'>
                        <span>Age:</span>
                        <span>{{age}}</span>
                    </div>
                    <div>
                        <h6>Courses:</h6>
                        <ul class='list-group my-2' style='max-height: 150px; overflow-y: scroll;'>
                            {{#each courses}}
                            <li class='list-group-item bg-info text-white'>{{name}}</li>
                            {{/each}}
                        </ul>
                    </div>
                    <div class='row justify-content-around'>
                        <a href='/students/edit/{{ id }}' class='btn btn-primary col-5'>Edit</a>
                        <a href='http://127.0.0.1:3000/students/delete/{{id}}' class='btn btn-danger col-5'>Delete</a>
                    </div>
                </div>
            </div>
            {{/if}}
            {{/each}}
            {{else}}
            {{#each students}}
            {{#if isStudent}}
            <div class='card col-4 my-3' style='width: 18rem;'>
                <div class='card-body'>
                    <h5 class='card-title'>
                        <span>Name: </span>
                        <span>{{name}}</span>
                    </h5>
                    <div class='my-2 fw-bold'>
                        <span>Age:</span>
                        <span>{{age}}</span>
                    </div>
                    <div>
                        <h6>Courses:</h6>
                        <ul class='list-group my-2' style='max-height: 150px; overflow-y: scroll;'>
                            {{#each courses}}
                            <li class='list-group-item bg-info text-white'>{{name}}</li>
                            {{/each}}
                        </ul>
                    </div>
                </div>
            </div>
            {{/if}}
            {{/each}}
            {{/if}}
        </div>
    </div>
</body>

</html>